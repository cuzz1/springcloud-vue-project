

# 1、开通阿里云

## 1.1 注册登录

访问阿里云主页：[阿里云](https://www.aliyun.com/)

![1525099489244](assets/1525099489244.png)

注册：

 ![1525099519158](assets/1525099519158.png)

登录：

 ![1525099544901](assets/1525099544901.png)

进入云通信：

 ![1525099619351](assets/1525099619351.png)

进入短信服务控制台：

![1525099688034](assets/1525099688034.png)



选择：已阅读协议，然后立即开通

![1525099750189](assets/1525099750189.png)



然后在控制台，即可查看新手帮助：

![1525099958699](assets/1525099958699.png)



## 1.2 完整流程

查看新手帮助的完整流程：

![1525100090994](assets/1525100090994.png)



申请短信服务我们已经完成，下一步就是创建应用：



## 1.3 创建AccessKey

首先，生成AccessKey：

 ![1525100180610](assets/1525100180610.png)

点击后，进入新的帮助页面：

 ![1525100410301](assets/1525100410301.png)

操作步骤：

- 登录[RAM管理控制台](https://ram.console.aliyun.com/)。

  ![1525100498042](assets/1525100498042.png)

- 在左侧导航栏，单击**用户管理**。

  ![1525100568259](assets/1525100568259.png)

  然后点击新建用户：

   ![1525100637854](assets/1525100637854.png)

- 填写信息，点击确定：

   ![1525100674068](assets/1525100674068.png)

- 在验证手机成功：

   ![1525100725841](assets/1525100725841.png)

- 在弹出的对话框中，展开**AccessKey详情**查看查看AcessKeyId和AccessKeySecret。然后单击**保存AK信息**，下载AccessKey信息。

   ![1525100875246](assets/1525100875246.png)

## 1.4 给用户授权

点击右侧的用户授权：

![1525159418027](assets/1525159418027.png)



然后添加短信授权：

![1525159513967](assets/1525159513967.png)



## 1.5 创建短信签名

短信签名就是短信内容头部的标签，标注短信发送者的身份。

点击管理界面的签名管理：

![1525101109813](assets/1525101109813.png)

点击添加签名：

 ![1525101145061](assets/1525101145061.png)

填写信息后点击确定，进入审核状态：

![1525101273063](assets/1525101273063.png)



## 1.6 申请模板

在右侧点击模板管理：然后添加模板

![1525101415968](assets/1525101415968.png)



填写模板信息：

 ![1525101625664](assets/1525101625664.png)



进入审核状态：

![1525101663353](assets/1525101663353.png)



# 2、java客户端

我们通过官网提供的帮助来完成java客户端学习：

 ![1527231937144](assets/1527231937144.png)

## 2.1.下载SDK工具包

![1527232030334](assets/1527232030334.png)

下载完成后得到压缩包：

 ![1527232237238](assets/1527232237238.png)

解压后目录结构：

![1527232324830](assets/1527232324830.png) 

它这里提供的案例代码比较老，jdk版本也比较低。

## 2.2.安装SDK

我们需要把api_SDK中的两个依赖装入本地maven中，进入api_sdk目录，有两个项目需要处理：

 ![1527233599506](assets/1527233599506.png)



然后进入到项目根目录：

 ![1527233712848](assets/1527233712848.png)

打开cmd命令行，输入命令：

```powershell
mvn install -Dmaven.test.skip=true -Dgpg.skip=true
```

然后进入另一个项目，上面的操作执行一遍

## 2.3.demo

建议大家直接使用课前资料提供的demo工程：

 ![1527232562969](assets/1527232562969.png)

导入到idea中：

 ![1527235082318](assets/1527235082318.png)

### 2.3.1.填写AccessKey：

![1527235189991](assets/1527235189991.png)

这里要填写刚刚申请的AccessKey的id和secret：

### 2.3.2.填写电话及短信模板

 ![1527235312969](assets/1527235312969.png)

这里要修改3个地方：

- phoneNumber：发送的目标手机
- signName：签名名称，这个去控制台查看
- templateCode：模板id，也去控制台查看

运行main函数测试：

 ![1527236340771](assets/1527236340771.png)

短信发送成功了：

![1527236388702](assets/1527236388702.png)

效果：

 ![1527236647275](assets/1527236647275.png)

